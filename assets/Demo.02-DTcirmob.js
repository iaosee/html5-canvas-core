var c=Object.defineProperty;var d=(n,i,t)=>i in n?c(n,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[i]=t;var a=(n,i,t)=>d(n,typeof i!="symbol"?i+"":i,t);import{B as l}from"./BaseDemo-DB1y7toB.js";import{I as m}from"./presta_illustration_20-4QhwEhFx.js";class h extends l{constructor(t){super(t);a(this,"name","鼠标位置");a(this,"spritesheet");a(this,"tips");this.canvas=t,this.loadImage(m).then(e=>{console.log(e),this.spritesheet=e}),this.listenEvents()}static init(t){return new h(t)}start(){return this.drawGrid()}draw(){return this.clearScreen(),this.drawGrid()}drawBackground(){const{context:t}=this,e=12,o=12;let s=t.canvas.height,r=t.canvas.width;for(t.lineWidth=.2,t.strokeStyle="rgba(10,10,10,0.5)";s>=0;)t.beginPath(),t.moveTo(0,s),t.lineTo(t.canvas.width,s),t.stroke(),s-=e;for(;r>=0;)t.beginPath(),t.moveTo(r,0),t.lineTo(r,t.canvas.height),t.stroke(),r-=o;return this}drawSpritesheet(t){const{context:e}=this;return e.drawImage(t,0,0),this}listenEvents(){const{canvas:t}=this,e=this.tips=document.createElement("div");e.style.position="absolute",e.style.zIndex="-1",e.style.left="0",e.style.top="0",document.body.appendChild(e),t.addEventListener("mousemove",this.throttle(o=>{const s=this.coordinateTransformation(o.clientX,o.clientY);console.log(s),this.clearScreen().drawGrid().drawGuidelines(s.x,s.y),e.innerText=s.x+", "+s.y},50),!1)}destroy(){super.destroy(),this.tips.remove()}}export{h as Demo};
