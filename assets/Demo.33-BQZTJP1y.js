import{G as c}from"./lil-gui.esm-hsJpI9MV.js";import{B as d}from"./BaseDemo-CScLeyCm.js";class n extends d{constructor(t){super(t),this.name="线条摆动",this.K=2,this.F=1,this.MAX=this.height/2,this.phase=.1,this.config={noise:20,speed:.2},this.createControl()}static init(t){return new n(t)}draw(){return this.clearScreen().drawGrid().drawScene()}clearScreen(){const{context:t}=this;return t.globalCompositeOperation="destination-out",t.clearRect(0,0,this.width,this.height),t.globalCompositeOperation="source-over",this}createControl(){const{config:t}=this;this.gui=new c;const{gui:s}=this;return s.add(t,"noise").min(1).max(500).step(1),s.add(t,"speed").min(.01).max(.5).step(.01),this}globalAttenuationFn(t){return Math.pow(this.K*4/(this.K*4+Math.pow(t,4)),this.K*2)}drawLine(t,s,h=1){const{context:i,config:r}=this;i.moveTo(0,0),i.beginPath(),i.strokeStyle=s,i.lineWidth=h;for(let e=-this.K;e<=this.K;e+=.01){const o=this.width*((e+this.K)/(this.K*2)),a=this.height/2+r.noise*this.globalAttenuationFn(e)*(1/t)*Math.sin(this.F*e-this.phase);i.lineTo(o,a)}return i.stroke(),this}drawScene(){const{config:t}=this;return this.phase=(this.phase+t.speed)%(Math.PI*64),this.drawLine(-2,"rgba(0,0,255,0.1)").drawLine(-6,"rgba(0,0,255,0.2)").drawLine(4,"rgba(0,0,255,0.4)").drawLine(2,"rgba(0,0,255,0.6)").drawLine(1,"rgba(0,0,255,1)",1.5),this}}export{n as Demo};
