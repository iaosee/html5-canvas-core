var p=Object.defineProperty;var l=(n,e,t)=>e in n?p(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var i=(n,e,t)=>l(n,typeof e!="symbol"?e+"":e,t);import{G as w}from"./lil-gui.esm-hsJpI9MV.js";import{B as u}from"./BaseDemo-DB1y7toB.js";class h extends u{constructor(t){super(t);i(this,"name","线条摆动");i(this,"K",2);i(this,"F",1);i(this,"MAX",this.height/2);i(this,"phase",.1);i(this,"config",{noise:20,speed:.2});this.canvas=t,this.createControl()}static init(t){return new h(t)}draw(){return this.clearScreen().drawGrid().drawScene()}clearScreen(){const{context:t}=this;return t.globalCompositeOperation="destination-out",t.clearRect(0,0,this.width,this.height),t.globalCompositeOperation="source-over",this}createControl(){const{config:t}=this;this.gui=new w;const{gui:o}=this;return o.add(t,"noise").min(1).max(500).step(1),o.add(t,"speed").min(.01).max(.5).step(.01),this}globalAttenuationFn(t){return Math.pow(this.K*4/(this.K*4+Math.pow(t,4)),this.K*2)}drawLine(t,o,a=1){const{context:s,config:c}=this;s.moveTo(0,0),s.beginPath(),s.strokeStyle=o,s.lineWidth=a;for(let r=-this.K;r<=this.K;r+=.01){const d=this.width*((r+this.K)/(this.K*2)),g=this.height/2+c.noise*this.globalAttenuationFn(r)*(1/t)*Math.sin(this.F*r-this.phase);s.lineTo(d,g)}return s.stroke(),this}drawScene(){const{config:t}=this;return this.phase=(this.phase+t.speed)%(Math.PI*64),this.drawLine(-2,"rgba(0,0,255,0.1)").drawLine(-6,"rgba(0,0,255,0.2)").drawLine(4,"rgba(0,0,255,0.4)").drawLine(2,"rgba(0,0,255,0.6)").drawLine(1,"rgba(0,0,255,1)",1.5),this}}export{h as Demo};
