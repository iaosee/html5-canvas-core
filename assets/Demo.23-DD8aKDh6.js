import{G as l}from"./lil-gui.esm-hsJpI9MV.js";import{R as h}from"./Rubberband-oyprZb1N.js";import"./BaseDemo-CScLeyCm.js";class a extends h{constructor(t){super(t),this.name="拖拽画多边形",this.config={sides:5,startAngle:0,fillStyle:[71,163,56,.2],strokeStyle:[0,128,255,.8]},this.createControl().listenEvents()}static init(t){return new a(t)}start(){return this.drawGrid()}draw(){return this}createControl(){const{config:t}=this;this.gui=new l;const{gui:o}=this;return o.add(t,"sides").min(3).max(50).step(1),o.add(t,"startAngle").min(0).max(180).step(15),o.addColor(t,"fillStyle",255),o.addColor(t,"strokeStyle",255),this}drawRubberbandShape(t){const{context:o,config:r,mousedownPos:e,rubberbandRect:s}=this;return o.fillStyle=this.rgbaFromArr(r.fillStyle),o.strokeStyle=this.rgbaFromArr(r.strokeStyle),this.drawPolygonPath(e,s.width,r.sides,this.degreesToRadian(r.startAngle)),o.stroke(),o.fill(),this}drawPolygonPath(t,o,r,e=0){const{context:s}=this,i=this.getPolygonPoints(t,o,r,e);s.beginPath(),s.moveTo(i[0].x,i[0].y);for(let n=1;n<r;++n)s.lineTo(i[n].x,i[n].y);return s.closePath(),this}getPolygonPoints(t,o,r,e=0){const s=[];for(let i=0;i<r;i++)s.push({x:t.x+Math.sin(e)*o,y:t.y-Math.cos(e)*o}),e+=2*Math.PI/r;return s}}export{a as Demo};
