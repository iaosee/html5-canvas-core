var M=Object.defineProperty;var f=(c,i,t)=>i in c?M(c,i,{enumerable:!0,configurable:!0,writable:!0,value:t}):c[i]=t;var o=(c,i,t)=>f(c,typeof i!="symbol"?i+"":i,t);import{B as g}from"./BaseDemo-DB1y7toB.js";class l extends g{constructor(t){super(t);o(this,"name","时钟");o(this,"config",{FONT_HEIGHT:15,MARGIN:40,NUMERAL_SPACING:20});this.canvas=t}static init(t){return new l(t)}draw(){return this.clearScreen().drawCircle().drawNumerals().drawCenter().drawHands()}drawCircle(){const{context:t,config:n}=this,e=this.viewMin/2-n.MARGIN,a=0,s=Math.PI*2,r=!0;return t.strokeStyle="rgba(61, 126, 154, 0.8)",t.beginPath(),t.arc(this.centerX,this.centerY,e,a,s,r),t.stroke(),this}drawNumerals(){const{context:t,config:n}=this,e=[1,2,3,4,5,6,7,8,9,10,11,12];return t.font="20px Palatino",t.fillStyle="rgba(35, 154, 59, 1.0)",e.map(a=>{const s=Math.PI/6*(a-3),r=a.toString(),h=t.measureText(r).width,d=this.viewMin/2-20,w=Math.cos(s)*d-h/2,u=Math.sin(s)*d+n.FONT_HEIGHT/3;t.fillText(r,this.centerX+w,this.centerY+u)}),this}drawCenter(){const{context:t}=this;return t.beginPath(),t.arc(this.centerX,this.centerY,5,0,Math.PI*2,!0),t.fill(),this}drawHand(t,n=!1){const{context:e,config:a}=this,s=Math.PI*2*(t/60)-Math.PI/2,r=this.viewMin/2-a.MARGIN,h=n?r-this.width/25-this.width/10:r-this.width/25;return e.lineCap="round",e.strokeStyle=n?"rgba(61, 126, 154, 1.0)":"rgba(61, 126, 154, 0.5)",e.lineWidth=n?4:2,e.moveTo(this.centerX-Math.cos(s)*30,this.centerY-Math.sin(s)*30),e.lineTo(this.centerX+Math.cos(s)*h,this.centerY+Math.sin(s)*h),e.stroke(),this}drawHands(){const t=new Date,n=t.getHours(),e=n>12?n-12:n;return this.drawHand(e*5+t.getMinutes()/60*5,!0),this.drawHand(t.getMinutes(),!1),this.drawHand(t.getSeconds(),!1),this}}export{l as Demo};
