import{G as l}from"./lil-gui.esm-hsJpI9MV.js";import{B as d}from"./BaseDemo-CScLeyCm.js";class o extends d{constructor(t){super(t),this.name="文字路径环绕",this.config={radius:300,fontSize:50,text:"Hello canvas, hello world. It's so funny. "},this.createControl()}static init(t){return new o(t)}start(){return this.clearScreen().drawGrid().drawScene()}draw(){return this}createControl(){const{config:t}=this;this.gui=new l;const{gui:r}=this;return r.add(t,"text").onFinishChange(()=>this.start()),r.add(t,"radius").min(100).max(500).step(10).onFinishChange(()=>this.start()),this}drawScene(){const{config:t}=this;return this.drawCircularText(t.text,Math.PI*2,Math.PI/8),this}drawCircularText(t,r,h){const{context:e,config:s}=this,c=(r-h)/(t.length-1);let i=0,n;const a=this.randomRgba();for(e.save(),e.fillStyle=a,e.strokeStyle=a,e.font=s.fontSize+"px Lucida Sans";i<t.length;)n=t.charAt(i),e.save(),e.beginPath(),e.translate(this.center.x+Math.cos(r)*s.radius,this.center.y-Math.sin(r)*s.radius),e.rotate(Math.PI/2-r),e.fillText(n,0,0),e.strokeText(n,0,0),r-=c,i++,e.restore();return e.restore(),this}}export{o as Demo};
