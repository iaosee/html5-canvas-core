import{B as l}from"./BaseDemo.deaf79c0.js";class a extends l{constructor(t){super(t),this.canvas=t,this.name="\u7EBF\u6761\u8FDE\u63A5",this.polylineList=[],this.paths=[],this.mousePosition={x:0,y:0},this.lineColor="rgba(0,0,255,0.9)",this.pointColor=this.randomRgba(),this.startDraw=!1,this.listenEvents()}static init(t){return new a(t)}draw(){return this.clearScreen().drawGrid().drawLines().drawPoint()}drawPoint(){const{paths:t,context:i}=this;for(let s=0,e=t.length;s<e;s++)i.beginPath(),i.arc(t[s].x,t[s].y,5,0,Math.PI*2,!1),i.fillStyle=this.pointColor,i.fill();return this}drawLines(){const{paths:t,mousePosition:i,context:s}=this;if(!t.length)return this;s.beginPath(),s.moveTo(t[0].x,t[0].y);for(let e=1,r=t.length;e<r;e++)s.lineTo(t[e].x,t[e].y);return this.startDraw&&s.lineTo(i.x,i.y),s.strokeStyle=this.lineColor,s.stroke(),this}listenEvents(){const{canvas:t,context:i}=this,s=n=>{const o=this.coordinateTransformation(n.clientX,n.clientY);this.paths.push(o),this.startDraw=!0},e=n=>{const o=this.coordinateTransformation(n.clientX,n.clientY);console.log(o),this.startDraw=!1},r=n=>{const o=this.coordinateTransformation(n.clientX,n.clientY);this.mousePosition=o};t.addEventListener("click",s,!1),t.addEventListener("dblclick",e,!1),t.addEventListener("mousemove",r,!1)}}export{a as Demo};
