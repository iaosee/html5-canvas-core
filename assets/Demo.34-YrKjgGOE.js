var c=Object.defineProperty;var d=(o,s,t)=>s in o?c(o,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[s]=t;var i=(o,s,t)=>d(o,typeof s!="symbol"?s+"":s,t);import{G as l}from"./lil-gui.esm-hsJpI9MV.js";import{B as x}from"./BaseDemo-DB1y7toB.js";const w="/html5-canvas-core/assets/image-01-CksaFkh9.jpg";class h extends x{constructor(t){super(t);i(this,"name","文字填充");i(this,"config",{text:"Hello, Canvas"});this.canvas=t,this.createControl()}static init(t){return new h(t)}start(){return this.clearScreen().drawGrid().drawScene()}draw(){return this}createControl(){const{config:t}=this;this.gui=new l;const{gui:e}=this;return e.add(t,"text").onFinishChange(()=>this.start()),this}drawScene(){const{context:t}=this;return t.shadowOffsetX=5,t.shadowOffsetY=5,t.shadowBlur=10,t.font="256px Palatino",t.strokeStyle="cornflowerblue",t.shadowColor="rgba(100, 100, 150, 0.8)",this.drawGradientText(),this.loadImage(w).then(e=>this.drawPatternText(e)),this}drawGradientText(){const{context:t,config:e}=this,r=t.createLinearGradient(0,0,this.width,this.height);r.addColorStop(0,"red"),r.addColorStop(.25,"blue"),r.addColorStop(.5,"white"),r.addColorStop(.75,"red"),r.addColorStop(1,"yellow");const n=t.measureText(e.text);return t.fillStyle=r,t.fillText(e.text,this.centerX-n.width/2,this.centerY/1.5),t.strokeText(e.text,this.centerX-n.width/2,this.centerY/1.5),this}drawPatternText(t){const{context:e,config:r}=this,n=e.createPattern(t,"repeat"),a=e.measureText(r.text);return e.fillStyle=n,e.fillText(r.text,this.centerX-a.width/2,this.centerY*1.5),e.strokeText(r.text,this.centerX-a.width/2,this.centerY*1.5),this}}export{h as Demo};
