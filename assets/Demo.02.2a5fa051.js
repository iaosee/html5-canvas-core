import{B as r}from"./BaseDemo.deaf79c0.js";import{I as a}from"./presta_illustration_20.082a40c8.js";class o extends r{constructor(t){super(t),this.canvas=t,this.name="\u9F20\u6807\u4F4D\u7F6E",this.loadImage(a).then(e=>{console.log(e),this.spritesheet=e}),this.listenEvents()}static init(t){return new o(t)}start(){return this.drawGrid()}draw(){return this.clearScreen(),this.drawGrid()}drawBackground(){const{context:t}=this,e=12,i=12;let s=t.canvas.height,n=t.canvas.width;for(t.lineWidth=.2,t.strokeStyle="rgba(10,10,10,0.5)";s>=0;)t.beginPath(),t.moveTo(0,s),t.lineTo(t.canvas.width,s),t.stroke(),s-=e;for(;n>=0;)t.beginPath(),t.moveTo(n,0),t.lineTo(n,t.canvas.height),t.stroke(),n-=i;return this}drawSpritesheet(t){const{context:e}=this;return e.drawImage(t,0,0),this}listenEvents(){const{canvas:t}=this,e=this.tips=document.createElement("div");e.style.position="absolute",e.style.zIndex="-1",e.style.left="0",e.style.top="0",document.body.appendChild(e),t.addEventListener("mousemove",this.throttle(i=>{const s=this.coordinateTransformation(i.clientX,i.clientY);console.log(s),this.clearScreen().drawGrid().drawGuidelines(s.x,s.y),e.innerText=s.x+", "+s.y},50),!1)}destroy(){super.destroy(),this.tips.remove()}}export{o as Demo};
