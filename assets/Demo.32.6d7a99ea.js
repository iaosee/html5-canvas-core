import{G as o}from"./lil-gui.esm.7a5dd4ff.js";import{B as r,P as n}from"./BaseDemo.deaf79c0.js";class h extends r{constructor(t){super(t),this.canvas=t,this.name="\u661F\u7A7A\u8F68\u8FF9",this.stars=[],this.mousePos=new n(this.centerX,this.height),this.config={pointQuantity:500,isFill:!1,maxRangeRadius:800,maxStarRadius:5,shapeStyle:"linellae",backgroundColor:"dark"},this.createControl().generatePoint().listenEvents()}static init(t){return new h(t)}clearScreen(){const{context:t,canvas:s,config:i}=this;return t.globalAlpha=.8,t.fillStyle=i.backgroundColor==="dark"?"rgba(0, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)",t.fillRect(0,0,this.width,this.height),this}draw(){return this.clearScreen().drawScene()}createControl(){const{config:t}=this;this.gui=new o;const{gui:s}=this;return s.add(t,"pointQuantity").min(10).max(5e3).step(10).onChange(()=>this.resetScene()),s.add(t,"maxStarRadius").min(1).max(50).step(1).onChange(()=>this.resetScene()),s.add(t,"maxRangeRadius").min(100).max(1200).step(10).onChange(()=>this.resetScene()),s.add(t,"shapeStyle",{linellae:"linellae",circle:"circle"}),s.add(t,"backgroundColor",{light:"light",dark:"dark"}),s.add(t,"isFill"),this}resetScene(){return this.stars.length=0,this.generatePoint(),this}generatePoint(){const{config:t,mousePos:s}=this;for(let i=0;i<t.pointQuantity;i++)this.stars.push(new l(new n(s.x,s.y),Math.random()*t.maxStarRadius,this.randomRgba(),Math.random()/100+.001,Math.random()*t.maxRangeRadius+10));return this}drawScene(){const{stars:t}=this;return t.forEach(s=>s.draw(this)),this}listenEvents(){const{canvas:t}=this;return t.addEventListener("mousemove",s=>{this.mousePos=this.coordinateTransformation(s.clientX,s.clientY)}),this}}class l{constructor(t,s,i,e=.01,a=Math.random()*500+10){this.position=t,this.radius=s,this.color=i,this.speed=e,this.maxRangeRadius=a,this.theta=Math.random()*Math.PI*2}set x(t){this.position.x=t}get x(){return this.position.x}set y(t){this.position.y=t}get y(){return this.position.y}draw(t){const{context:s,mousePos:i,config:e}=t,a={x:this.x,y:this.y};this.theta+=this.speed,this.x=i.x+Math.cos(this.theta)*this.maxRangeRadius,this.y=i.y+Math.sin(this.theta)*this.maxRangeRadius,s.beginPath(),s.lineCap="round",s.strokeStyle=this.color,e.shapeStyle==="linellae"?(s.lineWidth=this.radius,s.moveTo(a.x,a.y),s.lineTo(this.x,this.y),s.stroke()):e.shapeStyle==="circle"&&(s.lineWidth=1,s.fillStyle=this.color,s.arc(this.x,this.y,this.radius,0,Math.PI*2,!1),s.stroke(),e.isFill&&s.fill()),s.closePath()}}export{h as Demo};
