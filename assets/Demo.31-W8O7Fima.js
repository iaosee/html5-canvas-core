import{G as l}from"./lil-gui.esm-hsJpI9MV.js";import{B as c}from"./BaseDemo-CScLeyCm.js";class o extends c{constructor(e){super(e),this.name="波浪效果",this.points=[],this.config={fluctuateRange:10},this.createControl().createPoints()}static init(e){return new o(e)}draw(){return this.clearScreen().drawGrid().update().drawScene()}createControl(){const{config:e}=this;this.gui=new l;const{gui:t}=this;return t.add(e,"fluctuateRange").min(5).max(50).step(1),this}createPoints(){const{points:e}=this;console.log(this.width);for(let t=0;t<this.width;t++)e.push({x:t,y:this.height-150,angle:t*Math.PI/180});return this}update(){const{config:e,points:t}=this;return t.forEach((n,s)=>{n.angle+=Math.PI/180*4,n.y=this.height-150+Math.sin(n.angle)*e.fluctuateRange}),this}drawScene(){const{points:e,context:t,config:n}=this;return t.strokeStyle="rgba(0, 170, 255, 0.8)",t.fillStyle="rgba(0, 170, 255, 0.8)",t.beginPath(),e.forEach((s,i)=>i===0?t.moveTo(s.x,s.y):t.lineTo(s.x,s.y)),t.lineTo(this.width,this.height),t.lineTo(0,this.height),t.closePath(),t.stroke(),t.fill(),this.height-200,this}drawWave(e,t=0,n=10,s){const{context:i,points:r,config:g}=this;return i.save(),i.strokeStyle=s,i.fillStyle=s,i.beginPath(),r.forEach((h,a)=>{h.angle+=Math.PI/180*t,h.y=e+Math.sin(h.angle)*n,a===0?i.moveTo(h.x,h.y):i.lineTo(h.x,h.y)}),i.lineTo(this.width,this.height-50),i.lineTo(0,this.height-50),i.fill(),i.stroke(),i.restore(),this}}export{o as Demo};
