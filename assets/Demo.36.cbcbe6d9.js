import{G as r}from"./lil-gui.esm.7a5dd4ff.js";import{B as h}from"./BaseDemo.deaf79c0.js";import{i as o}from"./flower.21c0439b.js";class c extends h{constructor(e){super(e),this.canvas=e,this.name="\u56FE\u50CF\u7ED8\u5236",this.config={scale:1,minScale:.1,maxScale:5},this.loadImage(o).then(t=>this.image=t).then(()=>this.clearScreen().drawScene()),this.createControl().listenEvents()}static init(e){return new c(e)}start(){return this}draw(){return this}createControl(){const{config:e}=this;this.gui=new r;const{gui:t}=this;return t.add(e,"scale").min(e.minScale).max(e.maxScale).step(.01).onChange(()=>this.drawScene()),this}drawScene(){const{context:e,config:t}=this,s=this.width,a=this.height,i=s*t.scale,n=a*t.scale;return e.clearRect(0,0,this.width,this.height),e.drawImage(this.image,-i/2+s/2,-n/2+a/2,i,n),this}listenEvents(){const{canvas:e}=this;return e.addEventListener("wheel",this.onWheelHandler.bind(this)),this}drawRubberbandShape(e){return console.log(e),this}onWheelHandler(e){const{config:t}=this,s=-e.deltaY/1e3;console.log(t.scale),t.scale+=s,t.scale<=t.minScale?t.scale=t.minScale:t.scale>t.maxScale&&(t.scale=t.maxScale),this.drawScene()}}export{c as Demo};
