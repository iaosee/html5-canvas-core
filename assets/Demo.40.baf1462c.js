import{G as o}from"./lil-gui.esm.7a5dd4ff.js";import{B as l}from"./BaseDemo.deaf79c0.js";import{S as u,E as m,B as d,N as g}from"./SunglassesFilter.bb50e6c7.js";import{i as w}from"./flower.21c0439b.js";class r extends l{constructor(e){super(e),this.canvas=e,this.name="\u56FE\u50CF\u5904\u7406 \u2014\u2014 \u57FA\u7840\u6EE4\u955C\u5B9E\u73B0",this.config={scale:.2,resetScene:()=>this.drawScene(),filter:0},this.loadImage(w).then(s=>this.image=s).then(()=>{this.drawScene()}),this.createControl()}static init(e){return new r(e)}start(){return this}draw(){return this}createControl(){const{config:e}=this;this.gui=new o;const{gui:s}=this;return s.add(e,"scale").step(.01).min(.1).max(1).onChange(()=>this.drawScene()),s.add(e,"resetScene"),s.add(e,"filter",{default:0,negative:1,black_white:2,embossment:3,sunglasses:4}).onFinishChange(t=>this.applyFilter(Number(t))),this}drawScene(){const{context:e,config:s,image:t}=this,a=this.width,h=this.height,c=t.width*s.scale/t.width,i=t.width*s.scale,n=t.height*c;return e.clearRect(0,0,this.canvas.width,this.canvas.height),e.drawImage(this.image,-i/2+a/2,-n/2+h/2,i,n),this}applyFilter(e){const{context:s}=this;this.drawScene();let t=null;const a=s.getImageData(0,0,this.canvas.width,this.canvas.height);switch(e){case 1:t=new g(a);break;case 2:t=new d(a);break;case 3:t=new m(a);break;case 4:t=new u(a);break;default:t=null}t&&t.dye(),s.putImageData(a,0,0)}}export{r as Demo};
