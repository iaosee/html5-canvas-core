var x=Object.defineProperty;var f=(h,r,t)=>r in h?x(h,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):h[r]=t;var a=(h,r,t)=>f(h,typeof r!="symbol"?r+"":r,t);import{G as v}from"./lil-gui.esm-hsJpI9MV.js";import{R as L}from"./index-CnHRkG3L.js";import{B as T}from"./BaseDemo-DB1y7toB.js";class p extends T{constructor(t){super(t);a(this,"name","ç§»åŠ¨çš„å­—ç¬¦");a(this,"letters",[]);a(this,"random",L.init(-5,5));a(this,"letterString","abcdefghijklmnopqrstuvwxyz~!@#$%^&*()_+`1234567890-=[];',./<>?:\"{}".split(""));a(this,"emojiString",["ðŸ˜€","ðŸ˜","ðŸ˜‚","ðŸ¤£","ðŸ˜ƒ","ðŸ˜„","ðŸ˜…","ðŸ˜†","ðŸ˜‰","ðŸ˜Š","ðŸ˜‹","ðŸ˜Ž","ðŸ˜","ðŸ˜˜","ðŸ¥°","ðŸ˜—","ðŸ˜™","ðŸ˜š","ðŸ™‚","ðŸ¤—","ðŸ¤©","ðŸ¤”","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ™„","ðŸ˜","ðŸ˜£","ðŸ˜¥","ðŸ˜®","ðŸ¤","ðŸ˜¯","ðŸ˜ª","ðŸ˜«","ðŸ¥±","ðŸ˜´","ðŸ˜Œ","ðŸ˜›","ðŸ˜œ","ðŸ˜","ðŸ¤¤","ðŸ˜’","ðŸ˜“","ðŸ˜”","ðŸ˜•","ðŸ™ƒ","ðŸ¤‘","ðŸ˜²","ðŸ™","ðŸ˜–","ðŸ˜ž","ðŸ˜Ÿ","ðŸ˜¤","ðŸ˜¢","ðŸ˜­","ðŸ˜¦","ðŸ˜§","ðŸ˜¨","ðŸ˜©","ðŸ¤¯","ðŸ˜¬","ðŸ˜°","ðŸ˜±","ðŸ¥µ","ðŸ¥¶","ðŸ˜³","ðŸ¤ª","ðŸ˜µ","ðŸ¥´","ðŸ˜ ","ðŸ˜¡","ðŸ¤¬","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ˜‡","ðŸ¥³","ðŸ¥º","ðŸ¤ ","ðŸ¤¡","ðŸ¤¥","ðŸ¤«","ðŸ¤­","ðŸ§","ðŸ¤“","ðŸ˜ˆ","ðŸ‘¿","ðŸ‘¹","ðŸ‘º","ðŸ’€","ðŸ‘»","ðŸ‘½","ðŸ‘¾","ðŸ¤–","ðŸ’©","ðŸ˜º","ðŸ˜¸","ðŸ˜¹","ðŸ˜»","ðŸ˜¼","ðŸ˜½","ðŸ™€","ðŸ˜¿","ðŸ˜¾","ðŸ±â€ðŸ‘¤","ðŸ±â€ðŸ","ðŸ±â€ðŸ’»","ðŸ±â€ðŸ‰","ðŸ±â€ðŸ‘“","ðŸ±â€ðŸš€","ðŸ™ˆ","ðŸ™‰","ðŸ™Š","ðŸµ","ðŸ¶","ðŸº","ðŸ±","ðŸ¦","ðŸ¯","ðŸ¦’","ðŸ¦Š","ðŸ¦","ðŸ®","ðŸ·","ðŸ—","ðŸ­","ðŸ¹","ðŸ°","ðŸ»","ðŸ¨","ðŸ¼","ðŸ¸","ðŸ¦“","ðŸ´","ðŸ¦„","ðŸ”","ðŸ²","ðŸ½","ðŸ¾","ðŸ’","ðŸ¦","ðŸ¦§","ðŸ¦®","ðŸ•â€ðŸ¦º","ðŸ©","ðŸ•","ðŸˆ","ðŸ…","ðŸ†","ðŸŽ","ðŸ¦Œ","ðŸ¦","ðŸ¦›","ðŸ‚","ðŸƒ","ðŸ„","ðŸ–","ðŸ","ðŸ‘","ðŸ","ðŸª","ðŸ«","ðŸ¦™","ðŸ¦˜","ðŸ¦¥","ðŸ¦¨","ðŸ¦¡","ðŸ˜","ðŸ","ðŸ€","ðŸ¦”","ðŸ‡","ðŸ¿","ðŸ¦Ž","ðŸŠ","ðŸ¢","ðŸ","ðŸ‰","ðŸ¦•","ðŸ¦–","ðŸ¦¦","ðŸ¦ˆ","ðŸ¬","ðŸ³","ðŸ‹","ðŸŸ","ðŸ ","ðŸ¡","ðŸ¦","ðŸ™","ðŸ¦‘","ðŸ¦ž","ðŸ¦€","ðŸš","ðŸ¦†","ðŸ“","ðŸ¦ƒ","ðŸ¦…","ðŸ¦¢","ðŸ¦œ","ðŸ¦©","ðŸ¦š","ðŸ¦‰","ðŸ¦","ðŸ§","ðŸ¥","ðŸ¤","ðŸ£","ðŸ¦‡","ðŸ¦‹","ðŸŒ","ðŸ›","ðŸ¦Ÿ","ðŸ¦—","ðŸœ","ðŸ","ðŸž","ðŸ¦‚","ðŸ¦ ","ðŸ§žâ€â™€ï¸","ðŸ§žâ€â™‚ï¸","ðŸ‘¤","ðŸ‘¥","ðŸ‘€","ðŸ¦´","ðŸ¦·","ðŸ‘„"]);a(this,"mousePosition",{x:0,y:0});a(this,"config",{quantity:100,letterType:1,lineType:0,displayLetter:!0});this.canvas=t,this.createControl().createLetter(null,this.config.quantity).listenEvents()}static init(t){return new p(t)}draw(){return this.clearScreen().drawGrid().drawLines().drawLetters()}createControl(){const{config:t}=this;this.gui=new v;const{gui:o}=this;return o.add(t,"quantity").min(5).max(500).step(5).onFinishChange(i=>{t.quantity=Number(i),this.createLetter(this.center,t.quantity,!0)}),o.add(t,"letterType",{char:1,emoji:2}).onFinishChange(i=>{t.letterType=Number(i),this.createLetter(this.center,t.quantity,!0)}),o.add(t,"lineType",{none:0,ligature:1,breaking:2,connection:3}).onFinishChange(i=>{t.lineType=Number(i)}),o.add(t,"displayLetter").onFinishChange(i=>{t.displayLetter=!!i}),this}createLetter(t,o=50,i=!1){const{config:e}=this,n=e.letterType===1?this.letterString:this.emojiString;t=t||{x:this.random.range(0,this.width).getOne(),y:this.random.range(0,this.height).getOne()},i&&this.letters.splice(0,this.letters.length);for(let s=0;s<o;s++){const l={x:t.x||this.centerX,y:t.y||this.centerY},y=this.random.range(0,n.length-1).getOne();this.letters.push({position:l,velocityX:Math.random()*(this.random.range(-4,4).getOne()||4),velocityY:Math.random()*(this.random.range(-4,4).getOne()||4),color:this.randomRgba(),size:this.random.range(12,50).getOne(),symbol:n[y]})}return this}drawLetters(){const{letters:t,config:o,context:i}=this;for(let e=0,n=t.length;e<n;e++)this.updatePosition(t[e]),o.displayLetter&&(i.fillStyle=t[e].color,i.font=`${t[e].size}px Palatino`,i.textAlign="center",i.textBaseline="middle",i.fillText(t[e].symbol,t[e].position.x,t[e].position.y));return this}drawLines(){const{config:t,context:o,letters:i}=this;switch(t.lineType){case 1:o.beginPath(),o.moveTo(i[0].position.x,i[0].position.y);for(let e=1,n=i.length;e<n;e++)o.strokeStyle=i[e].color,o.lineTo(i[e].position.x,i[e].position.y);o.closePath(),o.stroke();break;case 2:o.beginPath();for(let e=0,n=i.length;e<n;e++){o.strokeStyle=i[e].color;for(let c=e+1,d=i.length;c<d;c++){const m=Math.pow(i[c].position.x-i[e].position.x,2),g=Math.pow(i[c].position.y-i[e].position.y,2),u=Math.sqrt(m+g);Math.abs(u)>100||(o.moveTo(i[e].position.x,i[e].position.y),o.lineTo(i[c].position.x,i[c].position.y))}if(this.mousePosition.x===0&&this.mousePosition.y===0)continue;const s=Math.pow(this.mousePosition.x-i[e].position.x,2),l=Math.pow(this.mousePosition.y-i[e].position.y,2),y=Math.sqrt(s+l);Math.abs(y)>150||(o.moveTo(this.mousePosition.x,this.mousePosition.y),o.lineTo(i[e].position.x,i[e].position.y))}o.closePath(),o.stroke();break;case 3:o.beginPath();for(let e=0,n=i.length;e<n;e++){o.strokeStyle=i[e].color;for(let s=e+1,l=i.length;s<l;s++)o.moveTo(i[e].position.x,i[e].position.y),o.lineTo(i[s].position.x,i[s].position.y)}o.closePath(),o.stroke();break}return this}updatePosition(t){return(t.position.x+t.velocityX>this.width||t.position.x+t.velocityX<0)&&(t.velocityX=-t.velocityX),(t.position.y+t.velocityY>this.height||t.position.y+t.velocityY<0)&&(t.velocityY=-t.velocityY),t.position.x+=t.velocityX,t.position.y+=t.velocityY,this}listenEvents(){const{canvas:t}=this,o=e=>{const n=this.coordinateTransformation(e.clientX,e.clientY);this.createLetter(n,20,!1)},i=e=>{const n=this.coordinateTransformation(e.clientX,e.clientY);this.mousePosition=n};t.addEventListener("mousemove",i,!1),t.addEventListener("click",o,!1)}}export{p as Demo};
