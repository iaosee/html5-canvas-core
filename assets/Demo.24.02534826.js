import{G as h}from"./lil-gui.esm.7a5dd4ff.js";import{R as u}from"./Rubberband.c7ec187d.js";import{R as g}from"./RegularPolygon.e5aa00a6.js";import"./BaseDemo.deaf79c0.js";import"./Polygon.fb0fffd3.js";class l extends u{constructor(t){super(t),this.canvas=t,this.name="\u591A\u8FB9\u5F62\u5BF9\u8C61-\u4FDD\u5B58\u7ED8\u5236",this.polygons=[],this.config={sides:5,startAngle:0,fillStyle:[71,163,56,.2],strokeStyle:[0,128,255,.8],filled:!0,redraw:()=>{console.log("redraw"),this.clearScreen().drawGrid().drawPolygons()}},this.createControl().listenEvents()}static init(t){return new l(t)}start(){return this.drawGrid().drawPolygons()}draw(){return this}createControl(){const{config:t}=this;this.gui=new h;const{gui:e}=this;return e.add(t,"sides").min(3).max(50).step(1),e.add(t,"startAngle").min(0).max(180).step(15),e.add(t,"filled"),e.addColor(t,"fillStyle"),e.addColor(t,"strokeStyle"),e.add(t,"redraw"),this}drawRubberbandShape(t){const{context:e,config:s,mousedownPos:r,mousemovePos:a,rubberbandRect:i}=this,n=r.y===a.y?Math.abs(t.x-r.x):i.height/Math.sin(Math.atan(i.height/i.width)),d=Math.sqrt(Math.pow(i.width,2)+Math.pow(i.height,2)),o=new g({x:r.x,y:r.y,radius:n,sides:s.sides,startAngle:this.degreesToRadian(s.startAngle),fillStyle:this.rgbaFromArr(s.fillStyle),strokeStyle:this.rgbaFromArr(s.strokeStyle),filled:s.filled});return o.createPath(e),o.stroke(e),o.filled&&o.fill(e),!this.dragging&&!r.equals(t)&&(console.log(n),console.log(d),this.polygons.push(o)),this}drawPolygons(){const{context:t}=this;return this.polygons.forEach(e=>{e.stroke(t),e.filled&&e.fill(t)}),this}listenEvents(){return super.listenEvents(),window.addEventListener("keydown",t=>t.key==="c"&&(this.polygons=[])),this}}export{l as Demo};
