import{B as m}from"./BaseDemo-CScLeyCm.js";const p=CanvasRenderingContext2D.prototype.moveTo;CanvasRenderingContext2D.prototype.moveTo=function(r,e){p.apply(this,[r,e]),this.lastMoveToLocation.x=r,this.lastMoveToLocation.y=e};Object.defineProperty(CanvasRenderingContext2D.prototype,"lastMoveToLocation",{configurable:!0,enumerable:!0,value:{},writable:!0});Object.defineProperty(CanvasRenderingContext2D.prototype,"dashedLineTo",{configurable:!0,enumerable:!0,value:function(r,e,t=5){const c=this.lastMoveToLocation.x,l=this.lastMoveToLocation.y,n=r-c,i=e-l,a=Math.floor(Math.sqrt(n*n+i*i)/t);for(let o=0;o<a;o++){const s=c+n/a*o,h=l+i/a*o;o%2===0?this.moveTo(s,h):this.lineTo(s,h)}this.moveTo(r,e)},writable:!1});class u extends m{constructor(e){super(e),this.name="绘制虚线"}static init(e){return new u(e)}start(){return this.drawGrid().draw()}draw(){const{canvas:e,context:t}=this;return t.lineWidth=2,t.lineCap="butt",t.beginPath(),t.strokeStyle=this.randomRgba(),this.drawDashLine({x:0,y:0},{x:this.width,y:this.height}),t.closePath(),t.lineCap="round",t.beginPath(),t.strokeStyle=this.randomRgba(),this.drawDashLine({x:0,y:this.height},{x:this.width,y:0}),t.closePath(),t.lineCap="square",t.strokeStyle=this.randomRgba(),t.beginPath(),t.moveTo(0,this.centerY),t.dashedLineTo(this.centerX,this.centerY,10),t.closePath(),t.stroke(),t.strokeStyle=this.randomRgba(),t.beginPath(),t.moveTo(this.centerX,this.centerY),t.dashedLineTo(this.centerX,this.height,10),t.closePath(),t.stroke(),t.setLineDash([10,20]),t.strokeStyle=this.randomRgba(),t.beginPath(),t.moveTo(this.centerX,0),t.lineTo(this.centerX,this.centerY),t.stroke(),t.closePath(),this}drawDashLine(e,t,c=5,l=5){const{context:n}=this,i=t.x-e.x,a=t.y-e.y,o=Math.floor(Math.sqrt(i*i+a*a)/c);for(let s=0;s<o;s++){const h=e.x+i/o*s,d=e.y+a/o*s;s%2===0?n.moveTo(h,d):n.lineTo(h,d)}return n.stroke(),this}}export{u as Demo};
