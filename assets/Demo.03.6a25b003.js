import{B as a}from"./BaseDemo.deaf79c0.js";import{R as r}from"./index.87763aee.js";class e extends a{constructor(t){super(t),this.canvas=t,this.name="\u5706\u5F62\u6CE1\u6CE1",this.circles=[],this.random=r.init(-5,5);const s={x:this.centerX,y:this.centerY};this.createCircle(s,50).listenEvents()}static init(t){return new e(t)}draw(){return this.clearScreen().drawGrid().drawCircles()}createCircle(t,s=100,i=!1){i&&this.circles.splice(0,this.circles.length);for(let o=0;o<s;o++){const n={x:t.x||this.centerX,y:t.y||this.centerY};this.circles.push({position:n,velocityX:Math.random()*(this.random.range(-8,8).getOne()||8),velocityY:Math.random()*(this.random.range(-8,8).getOne()||8),radius:Math.random()*20,color:this.randomRgba()})}return this}drawCircles(){const{context:t}=this;return this.circles.forEach(s=>{t.beginPath(),t.arc(s.position.x,s.position.y,s.radius,0,Math.PI*2,!1),t.fillStyle=s.color,t.fill(),this.updatePosition(s)}),this}updatePosition(t){return(t.position.x+t.velocityX+t.radius>this.width||t.position.x+t.velocityX-t.radius<0)&&(t.velocityX=-t.velocityX),(t.position.y+t.velocityY+t.radius>this.height||t.position.y+t.velocityY-t.radius<0)&&(t.velocityY=-t.velocityY),t.position.x+=t.velocityX,t.position.y+=t.velocityY,this}listenEvents(){const{canvas:t}=this,s=i=>{const o=this.coordinateTransformation(i.clientX,i.clientY);i.type==="click"&&this.circles.splice(0,Math.floor(this.circles.length/2)),this.createCircle(o,100,!1)};t.addEventListener("mousemove",this.throttle(s,100),!1),t.addEventListener("click",s,!1)}}export{e as Demo};
