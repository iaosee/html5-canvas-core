import{B as o}from"./BaseDemo-CScLeyCm.js";class n extends o{constructor(t){super(t),this.name="绘制仪表盘",this.config={circle:{radius:250,x:this.centerX,y:this.centerY},CENTROID_RADIUS:10,CENTROID_STROKE_STYLE:"rgba(0, 0, 0, 0.5)",CENTROID_FILL_STYLE:"rgba(80, 190, 240, 0.6)",RING_INNER_RADIUS:35,RING_OUTER_RADIUS:55,ANNOTATIONS_FILL_STYLE:"rgba(0, 0, 230, 0.9)",ANNOTATIONS_TEXT_SIZE:12,TICK_WIDTH:10,TICK_LONG_STROKE_STYLE:"rgba(100, 140, 230, 0.9)",TICK_SHORT_STROKE_STYLE:"rgba(100, 140, 230, 0.7)",TRACKING_DIAL_STROKING_STYLE:"rgba(100, 140, 230, 0.5)",GUIDEWIRE_STROKE_STYLE:"goldenrod",GUIDEWIRE_FILL_STYLE:"rgba(250, 250, 0, 0.6)",pointer:Math.PI/2}}static init(t){return new n(t)}start(){return this.clearScreen().drawGrid().draw()}draw(){const{context:t}=this;return t.shadowOffsetX=2,t.shadowOffsetY=2,t.shadowBlur=4,t.textAlign="center",t.textBaseline="middle",this.drawDial()}drawDial(){const{config:t}=this,e={x:t.circle.x,y:t.circle.y};return this.drawCentroid().drawCentroidGuidewire(e).drawRing().drawTickInnerCircle().drawTicks().drawAnnotations()}drawCentroid(){const{context:t,config:e}=this;return t.beginPath(),t.save(),t.strokeStyle=e.CENTROID_STROKE_STYLE,t.fillStyle=e.CENTROID_FILL_STYLE,t.arc(e.circle.x,e.circle.y,e.CENTROID_RADIUS,0,Math.PI*2,!1),t.stroke(),t.fill(),t.restore(),this}drawCentroidGuidewire(t){const{context:e,config:r}=this;let i,c;const s=r.pointer;return i=r.circle.radius+r.RING_OUTER_RADIUS,c=t.x>=r.circle.x?{x:r.circle.x+i*Math.cos(s),y:r.circle.y+i*Math.sin(s)}:{x:r.circle.x-i*Math.cos(s),y:r.circle.y-i*Math.sin(s)},e.save(),e.strokeStyle=r.GUIDEWIRE_STROKE_STYLE,e.fillStyle=r.GUIDEWIRE_FILL_STYLE,e.beginPath(),e.moveTo(r.circle.x,r.circle.y),e.lineTo(c.x,c.y),e.stroke(),e.beginPath(),e.strokeStyle=r.TICK_LONG_STROKE_STYLE,e.arc(c.x,c.y,5,0,Math.PI*2,!1),e.fill(),e.stroke(),e.restore(),this}drawRing(){const{context:t,config:e}=this;return this.drawRingOuterCircle(),t.strokeStyle="rgba(0, 0, 0, 0.1)",t.arc(e.circle.x,e.circle.y,e.circle.radius+e.RING_INNER_RADIUS,0,Math.PI*2,!1),t.fillStyle="rgba(100, 140, 230, 0.1)",t.fill(),t.stroke(),this}drawTickInnerCircle(){const{context:t,config:e}=this;return t.save(),t.beginPath(),t.strokeStyle="rgba(0, 0, 0, 0.1)",t.arc(e.circle.x,e.circle.y,e.circle.radius+e.RING_INNER_RADIUS-e.TICK_WIDTH,0,Math.PI*2,!1),t.stroke(),t.restore(),this}drawTicks(){const{context:t,config:e}=this,r=e.circle.radius+e.RING_INNER_RADIUS,i=2*Math.PI,c=Math.PI/64;t.save();for(let s=0,a=0;s<i;s+=c,a++)this.drawTick(s,r,a++);return t.restore(),this}drawTick(t,e,r){const{context:i,config:c}=this,s=r%4===0?c.TICK_WIDTH:c.TICK_WIDTH/2;return i.beginPath(),i.moveTo(c.circle.x+Math.cos(t)*(e-s),c.circle.y+Math.sin(t)*(e-s)),i.lineTo(c.circle.x+Math.cos(t)*e,c.circle.y+Math.sin(t)*e),i.strokeStyle=c.TICK_SHORT_STROKE_STYLE,i.stroke(),this}drawAnnotations(){const{context:t,config:e}=this,r=e.circle.radius+e.RING_INNER_RADIUS;t.save(),t.fillStyle=e.ANNOTATIONS_FILL_STYLE,t.font=e.ANNOTATIONS_TEXT_SIZE+"px Helvetica";for(let i=0;i<2*Math.PI;i+=Math.PI/8)t.beginPath(),t.fillText((i*180/Math.PI).toFixed(0),e.circle.x+Math.cos(i)*(r-e.TICK_WIDTH*2),e.circle.y-Math.sin(i)*(r-e.TICK_WIDTH*2));return t.restore(),this}drawRingOuterCircle(){const{context:t,config:e}=this;return t.shadowColor="rgba(0, 0, 0, 0.7)",t.shadowOffsetX=3,t.shadowOffsetY=3,t.shadowBlur=6,t.strokeStyle=e.TRACKING_DIAL_STROKING_STYLE,t.beginPath(),t.arc(e.circle.x,e.circle.y,e.circle.radius+e.RING_OUTER_RADIUS,0,Math.PI*2,!0),t.stroke(),this}}export{n as Demo};
