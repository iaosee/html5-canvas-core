import{S as l}from"./Sprite.ec3d1e74.js";class c{constructor(t,h=[]){this.cells=[],this.cellIndex=0,this.spriteSheet=new Image,this.cells=h,this.spriteSheet.src=t}advance(){this.cellIndex===this.cells.length-1?this.cellIndex=0:this.cellIndex++}paint(t,h){if(!this.spriteSheet)return;const e=this.cells[this.cellIndex];t.width=e.width,t.height=e.height,this.spriteSheet.complete?h.drawImage(this.spriteSheet,e.x,e.y,e.width,e.height,t.x,t.y,e.width,e.height):this.spriteSheet.onload=i=>{h.drawImage(this.spriteSheet,e.x,e.y,e.width,e.height,t.x,t.y,e.width,e.height)}}}const r="/html5-canvas-core/assets/running-sprite-sheet.0440a6a8.png";class d extends l{constructor(t="RunnerSprite"){super(t),this.runnerCells=[{x:0,y:0,width:47,height:64},{x:55,y:0,width:44,height:64},{x:107,y:0,width:39,height:64},{x:152,y:0,width:46,height:64},{x:208,y:0,width:49,height:64},{x:265,y:0,width:46,height:64},{x:320,y:0,width:42,height:64},{x:380,y:0,width:35,height:64},{x:425,y:0,width:35,height:64}],this.painter=new c(r,this.runnerCells);const h=this.runnerCells[this.painter.cellIndex];this.width=h.width,this.height=h.height}}class g{constructor(t){this.lastAdvance=0,this.PAGEFLIP_INTERVAL=100,this.PAGEFLIP_INTERVAL=t||this.PAGEFLIP_INTERVAL}execute(t,h,e){e-this.lastAdvance>this.PAGEFLIP_INTERVAL&&(t.painter.advance(),this.lastAdvance=e)}}class x{constructor(t,h){this.startX=t,this.endX=h,this.lastMove=0}execute(t,h,e){if(this.lastMove!==0){t.x-=t.velocityX*((e-this.lastMove)/1e3);const i=this.startX||0,a=this.endX||h.canvas.width;t.x=t.x<i?a:t.x}this.lastMove=e}}class u{constructor(t){this.lastJump=0,this.jumpHeight=50,this.jumpHeight=t||this.jumpHeight}execute(t,h,e){e-this.lastJump<1e3||(t.y-=this.jumpHeight,t.y<0&&(t.y=h.canvas.height),this.lastJump=e)}}class w{constructor(t){this.pushTimer=t,this.lastTime=0}reset(t){console.log("reset")}execute(t,h,e){const{pushTimer:i}=this,a=i.getElapsedTime();let n;i.isRunning()&&this.lastTime&&(n=a-this.lastTime,t.x-=t.velocityX*(n/1e3),t.x=t.x<0?h.canvas.width:t.x),this.lastTime=a}}export{u as J,x as M,g as R,c as S,w as a,d as b,r};
