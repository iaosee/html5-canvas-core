import{G as r}from"./lil-gui.esm-hsJpI9MV.js";import{B as h}from"./BaseDemo-CScLeyCm.js";import{i as o}from"./flower-BOKp_aAz.js";class c extends h{constructor(t){super(t),this.name="图像绘制",this.config={scale:1,minScale:.1,maxScale:5},this.loadImage(o).then(e=>this.image=e).then(()=>this.clearScreen().drawScene()),this.createControl().listenEvents()}static init(t){return new c(t)}start(){return this}draw(){return this}createControl(){const{config:t}=this;this.gui=new r;const{gui:e}=this;return e.add(t,"scale").min(t.minScale).max(t.maxScale).step(.01).onChange(()=>this.drawScene()),this}drawScene(){const{context:t,config:e}=this,s=this.width,a=this.height,n=s*e.scale,i=a*e.scale;return t.clearRect(0,0,this.width,this.height),t.drawImage(this.image,-n/2+s/2,-i/2+a/2,n,i),this}listenEvents(){const{canvas:t}=this;return t.addEventListener("wheel",this.onWheelHandler.bind(this)),this}drawRubberbandShape(t){return console.log(t),this}onWheelHandler(t){const{config:e}=this,s=-t.deltaY/1e3;console.log(e.scale),e.scale+=s,e.scale<=e.minScale?e.scale=e.minScale:e.scale>e.maxScale&&(e.scale=e.maxScale),this.drawScene()}}export{c as Demo};
